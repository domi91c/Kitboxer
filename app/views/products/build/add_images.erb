<div class="wizard mt-5 js-hide-before-load">
  <%= form_for @product, url: wizard_path, method: :put do |form| %>
    <%= form.hidden_field :id %>
    <div class="row">
      <div class="col-md-9">
        <div class="box">
          <div class="card-body clearfix">
            <h1>Images</h1>
            <%= render 'layouts/errors', resource: @product %>
            <div id='root'>
              <% placeholder = image_path('placeholder_img.jpg') %>

              <%= content_tag :div,
                              class: 'js-image-uploader',
                              data: {
                                  images: @product.images,
                                  productId: @product.id,
                                  errors: @product.errors.full_messages
                              }.to_json do %>
              <% end %>

            </div>
          </div>
        </div>
      </div>

      <div class="col-md-3">
        <%= render 'wizard_steps' %>
      </div>
    </div>

    <br>
    <div class="row">
      <div class="col-md-9 push-md-3">
        <div class="card">
          <div class="card-body clearfix">
            <%= link_to "Previous", previous_wizard_path, class: 'btn btn-outline-default' %>
            <%= form.submit 'Next', class: 'btn btn-primary pull-right' %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>
